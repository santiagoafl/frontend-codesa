<h2 mat-dialog-title>{{ data ? 'Editar Estudiante' : 'Nuevo Estudiante' }}</h2>

<form [formGroup]="form" (ngSubmit)="guardar()" style="display: flex; flex-direction: column; gap: 16px; padding: 24px;">

  <mat-form-field>
    <mat-label>Nombre</mat-label>
    <input matInput formControlName="nombre">
    <mat-error *ngIf="form.get('nombre')?.hasError('required')">
      El nombre es obligatorio
    </mat-error>
  </mat-form-field>

  <mat-form-field>
    <mat-label>Apellido</mat-label>
    <input matInput formControlName="apellido">
    <mat-error *ngIf="form.get('apellido')?.hasError('required')">
      El apellido es obligatorio
    </mat-error>
  </mat-form-field>

  <mat-form-field>
    <mat-label>Email</mat-label>
    <input matInput formControlName="email">
    <mat-error *ngIf="form.get('email')?.hasError('required')">
      El email es obligatorio
    </mat-error>
    <mat-error *ngIf="form.get('email')?.hasError('email')">
      El formato del email no es válido
    </mat-error>
  </mat-form-field>

  <mat-form-field>
    <mat-label>Teléfono</mat-label>
    <input matInput formControlName="telefono">
    <mat-error *ngIf="form.get('telefono')?.hasError('required')">
      El teléfono es obligatorio
    </mat-error>
    <mat-error *ngIf="form.get('telefono')?.hasError('pattern')">
      Solo se permiten números
    </mat-error>
  </mat-form-field>

  <mat-form-field>
    <mat-label>Grado</mat-label>
    <input matInput formControlName="grado">
    <mat-error *ngIf="form.get('grado')?.hasError('required')">
      El grado es obligatorio
    </mat-error>
    <mat-error *ngIf="form.get('grado')?.hasError('pattern')">
      Solo se permiten números
    </mat-error>
  </mat-form-field>

  <mat-form-field>
    <mat-label>Número Matrícula</mat-label>
    <input matInput formControlName="numeroMatricula">
    <mat-error *ngIf="form.get('numeroMatricula')?.hasError('required')">
      La matrícula es obligatoria
    </mat-error>
  </mat-form-field>

  <mat-form-field>
    <mat-label>Fecha Nacimiento</mat-label>
    <input matInput formControlName="fechaNacimiento" type="date">
    <mat-error *ngIf="form.get('fechaNacimiento')?.hasError('required')">
      La fecha es obligatoria
    </mat-error>
    <mat-error *ngIf="form.get('fechaNacimiento')?.hasError('fechaFutura')">
      La fecha no puede ser en el futuro
    </mat-error>
  </mat-form-field>

  <div style="display: flex; justify-content: flex-end; gap: 8px;">
    <button mat-button type="button" (click)="cancelar()">Cancelar</button>
    <button mat-raised-button color="primary" type="submit">Guardar</button>
  </div>
</form>